{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags wagtailembeds_tags static humanize %}
{% block content %}

<article class="w-full">
    {% for block in page.content %}
        {% if block.block_type == 'hero' %}
<section class="section is-secondary pt-5 relative min-h-[700px] flex items-center overflow-hidden">
    {% if block.value.image %}
        {% image block.value.image original as bg_image %}
        <div class="absolute inset-0 z-0">
            <img src="{{ bg_image.url }}" alt="{{ block.value.title }}" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-black/50"></div>
        </div>
    {% endif %}
    <div class="container relative z-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
            <div class="space-y-6">
                {% if page.category %}
                    <span class="inline-block px-4 py-2 rounded-full bg-red-800 text-white heading_h5 mb-4 animate-fadeIn">
                        {{ page.category.name }}
                    </span>
                {% endif %}
                <h1 class="heading_h1 text-4xl lg:text-5xl font-bold leading-tight mb-6 text-white drop-shadow-md animate-fadeIn" style="animation-delay: 0.1s;">
                    {{ block.value.title }}
                </h1>
                {% if block.value.subtitle %}
                    <p class="heading_h3 text-lg lg:text-xl mb-8 max-w-prose leading-relaxed text-white/90 animate-fadeIn" style="animation-delay: 0.2s;">
                        {{ block.value.subtitle|striptags }}
                    </p>
                {% endif %}
                
                <div class="space-y-4 animate-fadeIn" style="animation-delay: 0.3s;">
                    {% if page.price %}
                        <div class="flex items-center gap-4">
                            <span class="heading_h3 text-white font-bold bg-red-800/80 px-4 py-2 rounded-lg">
                                {{ page.price|intcomma }} руб.
                            </span>
                            {% if page.buy_link %}
                                <a href="{{ page.buy_link }}" 
                                   class="inline-block button is-secondary w-button px-6 py-3 rounded-lg shadow-lg 
                                          hover:bg-red-50 hover:shadow-xl transition-all duration-300"
                                   style="color:white; box-shadow: 0 0 0 2px white inset;">
                                    Купить сейчас
                                </a>
                            {% endif %}
                        </div>
                    {% endif %}
                    
                    {% if block.value.button_text and block.value.button_link %}
                        <a href="{{ block.value.button_link.url }}" 
                           class="inline-block button is-secondary w-button px-6 py-3 rounded-lg shadow-lg 
                                  hover:bg-red-50 hover:shadow-xl transition-all duration-300"
                           style="color:white; box-shadow: 0 0 0 2px white inset;">
                            {{ block.value.button_text }}
                        </a>
                    {% endif %}
                </div>
            </div>
            <div></div>
        </div>
    </div>
</section>

        {% elif block.block_type == 'text' %}
        <section class="section">
            <div class="container mx-auto px-4 lg:px-8">
                <div class="prose gs-reveal rich-content">
                    {{ block.value.content|richtext }}
                </div>
            </div>
        </section>

        {% elif block.block_type == 'description' %}
        <section class="section">
            <div class="container mx-auto px-4 lg:px-8">
                <h2 class="text-3xl lg:text-4xl font-bold mb-8 text-center lg:text-left section-title heading_h2 gs-reveal">
                    {{ block.value.title|default:"Описание проекта" }}
                </h2>
                <div class="prose gs-reveal rich-content">
                    {{ block.value.content|richtext }}
                </div>
            </div>
        </section>

        {% elif block.block_type == 'results' %}
        <section class="section is-secondary">
            <div class="container mx-auto px-4 lg:px-8">
                <h2 class="text-3xl lg:text-4xl font-bold mb-8 text-center lg:text-left section-title heading_h2 gs-reveal">
                    {{ block.value.title|default:"Результаты" }}
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    {% for result in block.value.items %}
                        <div class="case-item group relative p-8 sm:p-10 rounded-3xl transition-colors duration-300 overflow-hidden cursor-default gs-reveal">
                            <div class="relative z-10 flex flex-col items-center text-center gap-4 h-full">
                                <div class="flex-shrink-0 w-16 h-16 flex items-center justify-center rounded-2xl bg-red-800 border-2 border-red-800">
                                    <svg class="w-9 h-9 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3.5" d="M5 13l4 4L19 7"/>
                                    </svg>
                                </div>
                                <div class="heading_h5 leading-relaxed">
                                    {{ result.text|richtext }}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        {% elif block.block_type == 'what_we_do' %}
        <section class="section is-secondary">
            <div class="container mx-auto px-4 lg:px-8">
                <div class="flex flex-col lg:flex-row items-center gap-12 {% if block.value.image_position == 'right' %}lg:flex-row-reverse{% endif %}">
                    <div class="lg:w-1/2 gs-reveal">
                        <div class="image-ratio_auto">
                            {% image block.value.image fill-900x800 class="image_cover rounded-lg" alt=block.value.title %}
                        </div>
                    </div>
                    <div class="lg:w-1/2 space-y-6 gs-reveal">
                        <h2 class="heading_h2">{{ block.value.title }}</h2>
                        <div class="heading_h5 rich-text w-richtext prose rich-content">
                            {{ block.value.description|richtext }}
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {% elif block.block_type == 'benefits' %}
        <section class="section">
            <div class="container mx-auto px-4 lg:px-8">
                <h2 class="heading_h2 text-4xl lg:text-5xl font-black text-center mb-16 gs-reveal">
                    {{ block.value.title|default:"Ключевые преимущества" }}
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    {% for benefit in block.value.items %}
                        <div class="group relative p-8 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 hover:border-red-800/30 transition-all duration-500 gs-reveal">
                            <div class="flex flex-col items-center text-center space-y-4">
                                {% if benefit.icon %}
                                    <div class="w-16 h-16 rounded-2xl bg-red-800/20 flex items-center justify-center group-hover:bg-red-800 transition-colors duration-300">
                                        {% image benefit.icon width-52 height-52 class="text-red-600 group-hover:text-white transition-colors duration-300" %}
                                    </div>
                                {% endif %}
                                <h3 class="heading_h3 font-semibold">{{ benefit.title }}</h3>
                                <div class="heading_h5 leading-relaxed">
                                    {{ benefit.description|richtext }}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        {% elif block.block_type == 'technologies' %}
        <section class="section">
            <div class="container mx-auto px-4 lg:px-8">
                <h2 class="heading_h2 text-4xl lg:text-5xl font-black text-center mb-16 gs-reveal">
                    {{ block.value.title|default:"Технологии и инструменты" }}
                </h2>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6">
                    {% for tech in block.value.items %}
                        <div class="group relative p-6 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 hover:border-red-800/30 transition-all duration-400 gs-reveal">
                            <div class="flex flex-col items-center space-y-3">
                                {% if tech.icon %}
                                    <div class="w-16 h-16 flex items-center justify-center">
                                        {% image tech.icon width-64 height-64 class="grayscale group-hover:grayscale-0 transition-all duration-400" %}
                                    </div>
                                {% endif %}
                                <span class="text-sm font-medium text-center">{{ tech.name }}</span>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        {% elif block.block_type == 'process' %}
        <section class="section is-secondary">
            <div class="container mx-auto px-4 lg:px-8">
                <h2 class="heading_h2 text-4xl lg:text-5xl font-black text-center mb-16 gs-reveal">
                    {{ block.value.title|default:"Как мы работаем" }}
                </h2>
                <div class="relative">
                    <div class="absolute left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-red-800/30 hidden lg:block"></div>
                    <div class="space-y-12 lg:space-y-0">
                        {% for step in block.value.items %}
                            <div class="relative flex flex-col lg:flex-row items-center {% cycle 'lg:flex-row' 'lg:flex-row-reverse' %} gap-8 gs-reveal">
                                <div class="lg:w-1/2 {% cycle 'lg:text-right lg:pr-12' 'lg:text-left lg:pl-12' %}">
                                    <div class="bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-red-800/30 transition-all duration-500">
                                        <h3 class="heading_h3 font-semibold mb-3">{{ step.title }}</h3>
                                        <div class="heading_h5 leading-relaxed">
                                            {{ step.description|richtext }}
                                        </div>
                                    </div>
                                </div>
                                <div class="flex-shrink-0 w-20 h-20 rounded-full bg-red-800 border-4 border-white/10 flex items-center justify-center text-white font-bold heading_h3 z-10">
                                    {{ forloop.counter }}
                                </div>
                                <div class="lg:w-1/2 {% cycle 'lg:pl-12' 'lg:pr-12' %}"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>

        {% elif block.block_type == 'gallery' %}
        <section class="section py-20">
            <div class="container mx-auto px-4 lg:px-8 max-w-7xl">
                {% if block.value.title %}
                    <div class="text-center mb-16">
                        <h2 class="heading_h2 font-black gs-reveal">{{ block.value.title }}</h2>
                    </div>
                {% endif %}
                <div class="relative mt-12">
                    <div class="gallery-carousel overflow-hidden rounded-2xl">
                        <div class="flex gap-6 pb-6 overflow-x-auto scrollbar-hide snap-x snap-mandatory">
                            {% for image in block.value.images %}
                                {% image image fill-600x450 as thumb %}
                                {% image image original as original_img %}
                                <div class="flex-shrink-0 w-80 snap-start">
                                    <div class="gallery-card group cursor-zoom-in" 
                                         data-original="{{ original_img.url }}"
                                         data-index="{{ forloop.counter0 }}">
                                        <div class="image-ratio_4x3 rounded-xl overflow-hidden shadow-lg">
                                            <img src="{{ thumb.url }}" alt=""
                                                 class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                                            <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="flex justify-center mt-6 space-x-2">
                        {% for image in block.value.images %}
                            <div class="w-2 h-2 bg-white/30 rounded-full transition-all duration-300 indicator-dot"></div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>

        {% elif block.block_type == 'video' %}
        <section class="section is-secondary">
            <div class="container mx-auto px-4 lg:px-8">
                {% if block.value.title %}
                    <div class="header is-align-center">
                        <h2 class="heading_h2 gs-reveal">{{ block.value.title }}</h2>
                    </div>
                {% endif %}
                <div class="mt-12 gs-reveal">
                    {% if block.value.video %}
                        {% with embed=block.value.video %}
                            {% if embed %}
                                <div class="relative" style="padding-bottom: 26.25%; height: 500px;">
                                    {{ embed.html|safe }}
                                </div>
                            {% else %}
                                <p class="text-center text-red-600">Ошибка: Невозможно загрузить видео.</p>
                            {% endif %}
                        {% endwith %}
                    {% else %}
                        <p class="text-center text-red-600">Ошибка: Видео не указано.</p>
                    {% endif %}
                </div>
            </div>
        </section>

        {% elif block.block_type == 'accordion' %}
        <section class="section py-24">
            <div class="container mx-auto px-4 lg:px-8 max-w-4xl">
                {% if block.value.title %}
                    <h2 class="heading_h2 text-4xl lg:text-5xl font-black text-center mb-20 tracking-tight gs-reveal">
                        {{ block.value.title }}
                    </h2>
                {% endif %}
                <div class="space-y-12 heading_h5">
                    {% for item in block.value.items %}
                    <div class="accordion-ultimate group">
                        <button class="w-full text-left focus:outline-none">
                            <div class="flex items-center justify-between py-4 border-b border-gray/5 group-hover:border-red-800 transition-colors duration-500">
                                <h3 class="text-xl lg:text-2xl font-medium group-hover:text-red-800 transition-colors duration-500 pr-12 leading-snug">
                                    {{ item.question }}
                                </h3>
                                <span class="text-2xl font-light group-hover:text-red-800 transition-all duration-500 group-open:hidden">+</span>
                                <span class="text-2xl font-light text-red-800 transition-all duration-500 hidden group-open:inline">−</span>
                            </div>
                        </button>
                        <div class="accordion-content max-h-0 overflow-hidden transition-all duration-700 ease-out">
                            <div class="pt-6 pb-10">
                                <div class="flex items-center gap-2 mb-5 opacity-0 transition-opacity duration-1000" id="ai-tag-{{ block.id }}-{{ forloop.counter }}">
                                    <div class="w-1.5 h-1.5 rounded-full bg-red-800"></div>
                                    <span class="text-xs font-medium text-red-800">Ответ ИИ</span>
                                </div>
                                <div class="typing-container">
                                    <div class="typing-text text-base lg:text-lg leading-relaxed text-gray-400 prose prose-invert max-w-none"
                                         data-full-text="{{ item.answer|striptags }}">
                                    </div>
                                    <span class="typing-cursor bg-red-800">|</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>

    {% endif %}
        
    {% endfor %}

    {% if other_products %}
    <section class="section is-secondary">
        <div class="container">
            <div class="flex items-center justify-between mb-12">
                <h2 class="heading_h2 max-width_large mb-0">Другие продукты</h2>
                <a href="/programms" class="button is-secondary text-white hover:text-red-300 font-medium text-sm inline-flex items-center transition-colors duration-200 shrink-0 ml-6">
                    Все продукты
                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </a>
            </div>
            <div class="w-layout-grid grid_3-col gap-2 lg:gap-3 mt-12">
                {% for product in other_products %}
                    <a href="{{ product.url }}" class="card relative overflow-hidden rounded-xl shadow-lg group" style="height: 400px;">
                        {% if product.hero_image %}
                            {% image product.hero_image fill-600x400 class="w-full h-full object-cover absolute top-0 left-0 z-0 transition-transform duration-1000 group-hover:scale-125" %}
                        {% endif %}
                        <div class="relative z-10 flex flex-col justify-between h-full p-6 bg-black/50 text-white">
                            <div class="flex items-center justify-between mb-4">
                                {% if product.category %}
                                    <span class="heading_h5 px-2 py-1 rounded-full bg-red-600/50 text-white text-xs font-medium">
                                        {{ product.category.name }}
                                    </span>
                                {% endif %}
                            </div>
                            <div class="space-y-4 flex-grow">
                                <h3 class="heading_h3 text-white">{{ product.headline }}</h3>
                                <p class="subheading text-gray-200">
                                    {{ product.intro|striptags|truncatewords:14 }}
                                </p>
                            </div>
                            {% if product.price %}
                                <div class="heading_h5 mt-2 text-white font-semibold">
                                    {{ product.price|intcomma }} руб.
                                </div>
                            {% endif %}
                            <div class="mt-auto text-white text-xl">
                                Подробнее
                                <svg class="w-4 h-4 ml-1 inline-block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                </svg>
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}
</article>

<script>
  document.querySelectorAll('.accordion-ultimate').forEach(item => {
  const button = item.querySelector('button');
  const content = item.querySelector('.accordion-content');
  const typingText = item.querySelector('.typing-text');
  const cursor = item.querySelector('.typing-cursor');
  const aiTag = item.querySelector('[id^="ai-tag-"]');
  const timeEl = item.querySelector('[id^="ai-time-"]');
  let isTyped = false;

  button.addEventListener('click', () => {
    const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

    if (!isOpen) {
      content.style.maxHeight = content.scrollHeight + 80 + 'px';
      item.classList.add('group-open');

      if (!isTyped && typingText) {
        const fullText = typingText.dataset.fullText.trim();
        typingText.textContent = '';
        cursor.style.display = 'inline-block';

        let i = 0;
        const start = Date.now();
        const type = () => {
          if (i < fullText.length) {
            typingText.textContent += fullText[i++];
            setTimeout(type, 10);
          } else {
            cursor.style.display = 'none';
            if (aiTag) {
              aiTag.style.opacity = '1';
              timeEl.textContent = ((Date.now() - start) / 1000).toFixed(1);
            }
          }
        };
        setTimeout(type, 120);
        isTyped = true;
      }
    } else {
      content.style.maxHeight = '0px';
      item.classList.remove('group-open');
    }
  });
});
  document.addEventListener('DOMContentLoaded', function() {
    gsap.registerPlugin(ScrollTrigger);
    gsap.utils.toArray('.gs-reveal').forEach(element => {
      gsap.fromTo(element, { opacity: 0, y: 20 }, {
        opacity: 1, y: 0, duration: 0.8, ease: "power2.out",
        scrollTrigger: { trigger: element, start: "top 95%", toggleActions: "play none none reverse" }
      });
    });
  });

  let currentIndex = 0;
  let galleryImages = [];

  function initGallery() {
    galleryImages = [];
    document.querySelectorAll('.gallery-card').forEach(card => {
      const original = card.dataset.original;
      const index = parseInt(card.dataset.index);
      galleryImages[index] = { url: original };
      card.addEventListener('click', () => openModal(index));
    });
    updateIndicators();
    setupCarouselScroll();
  }

  function setupCarouselScroll() {
    const carousel = document.querySelector('.gallery-carousel .flex');
    if (!carousel) return;
    carousel.addEventListener('scroll', () => {
      const itemWidth = carousel.querySelector('.w-80').offsetWidth + 24;
      const scrollPos = carousel.scrollLeft;
      const activeIndex = Math.round(scrollPos / itemWidth);
      updateIndicators(activeIndex);
    });
  }

  function updateIndicators(active = null) {
    const dots = document.querySelectorAll('.indicator-dot');
    dots.forEach((dot, i) => {
      if (active !== null) dot.classList.toggle('active', i === active);
      else dot.classList.remove('active');
    });
  }

  function openModal(index) {
    currentIndex = index;
    const modal = document.getElementById('fullscreenModal');
    const img = document.getElementById('fullscreenImage');
    img.src = galleryImages[index].url;
    document.getElementById('fullscreenCurrent').textContent = index + 1;
    document.getElementById('fullscreenTotal').textContent = galleryImages.length;
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
    updateThumbnails();
  }

  function closeModal() {
    const modal = document.getElementById('fullscreenModal');
    modal.classList.add('hidden');
    document.body.style.overflow = 'auto';
  }

  function prevImage() {
    currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
    document.getElementById('fullscreenImage').src = galleryImages[currentIndex].url;
    document.getElementById('fullscreenCurrent').textContent = currentIndex + 1;
    updateThumbnails();
  }

  function nextImage() {
    currentIndex = (currentIndex + 1) % galleryImages.length;
    document.getElementById('fullscreenImage').src = galleryImages[currentIndex].url;
    document.getElementById('fullscreenCurrent').textContent = currentIndex + 1;
    updateThumbnails();
  }

  function updateThumbnails() {
    const container = document.getElementById('thumbnailsContainer');
    container.innerHTML = '';
    galleryImages.forEach((item, i) => {
      const thumb = document.createElement('img');
      thumb.src = item.url.replace('/original/', '/width-120/');
      thumb.className = `w-20 h-14 object-cover rounded cursor-pointer transition-all ${i === currentIndex ? 'ring-2 ring-rose-500 scale-110' : 'opacity-60 hover:opacity-100'}`;
      thumb.onclick = () => { currentIndex = i; document.getElementById('fullscreenImage').src = item.url; document.getElementById('fullscreenCurrent').textContent = i + 1; updateThumbnails(); };
      container.appendChild(thumb);
    });
  }
document.querySelectorAll('.accordion-ultimate').forEach(item => {
  const button = item.querySelector('button');
  const content = item.querySelector('.accordion-content');
  const typingText = item.querySelector('.typing-text');
  const cursor = item.querySelector('.typing-cursor');
  const aiTag = item.querySelector('[id^="ai-tag-"]');
  const timeEl = item.querySelector('[id^="ai-time-"]');
  let isTyped = false;

  button.addEventListener('click', () => {
    const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

    if (!isOpen) {
      content.style.maxHeight = content.scrollHeight + 80 + 'px';
      item.classList.add('group-open');

      if (!isTyped && typingText) {
        const fullText = typingText.dataset.fullText.trim();
        typingText.textContent = '';
        cursor.style.display = 'inline-block';

        let i = 0;
        const start = Date.now();
        const type = () => {
          if (i < fullText.length) {
            typingText.textContent += fullText[i++];
            setTimeout(type, 10);
          } else {
            cursor.style.display = 'none';
            if (aiTag) {
              aiTag.style.opacity = '1';
              timeEl.textContent = ((Date.now() - start) / 1000).toFixed(1);
            }
          }
        };
        setTimeout(type, 120);
        isTyped = true;
      }
    } else {
      content.style.maxHeight = '0px';
      item.classList.remove('group-open');
    }
  });
});

  document.addEventListener('DOMContentLoaded', initGallery);

  document.addEventListener('keydown', e => {
    if (document.getElementById('fullscreenModal').classList.contains('hidden')) return;
    if (e.key === 'Escape') closeModal();
    if (e.key === 'ArrowLeft') prevImage();
    if (e.key === 'ArrowRight') nextImage();
  });

  let touchStart = 0;
  document.getElementById('fullscreenModal').addEventListener('touchstart', e => touchStart = e.touches[0].clientX);
  document.getElementById('fullscreenModal').addEventListener('touchend', e => {
    const diff = touchStart - e.changedTouches[0].clientX;
    if (Math.abs(diff) > 50) diff > 0 ? nextImage() : prevImage();
  });
</script>

<style>
  .case-item svg {
  color: #ffffff !important;
}   
.grid-reverse {
  direction: rtl;
}
.grid-reverse > * {
  direction: ltr;
}

@media (min-width: 1024px) {
  .grid-reverse {
    display: flex;
    flex-direction: row-reverse;
  }
}
  .relative iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
  .prose { color: var(--text-secondary) !important; max-width: none !important; }
  .prose h2, .prose h3, .prose p, .prose ul, .prose ol, .prose blockquote, .prose a { /* твои стили */ }
  .gs-reveal { opacity: 0; transform: translateY(20px); }

  .gallery-carousel .flex { scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; }
  .gallery-card { transition: transform 0.4s ease; }
  .gallery-card:hover { transform: translateY(-8px); }
  .indicator-dot { background: rgba(255,255,255,0.3); transition: all 0.3s ease; }
  .indicator-dot.active { background: #ef4444; width: 20px; border-radius: 9999px; }
  .cursor-zoom-in { cursor: zoom-in; }

  #fullscreenModal { backdrop-filter: blur(12px); background: rgba(0,0,0,0.95); }
  #fullscreenImage { max-height: 85vh; max-width: 90vw; object-fit: contain; border-radius: 1rem; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
.accordion-ultimate button {
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
}
.accordion-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.7s cubic-bezier(0.16, 1, 0.3, 1);
}
.typing-cursor {
  display: none;
  width: 2px;
  background: #991b1b; 
  margin-left: 3px;
  animation: blink 0.7s infinite;
}
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}   
</style>
{% endblock %}
{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags static %}

{% block content %}
<section class="section pt-10">
    <div class="container max-w-4xl">
        <div class="header mb-0 pt-0">
            <h2 class="heading_h3">{{ page.title }}</h2>
        </div>
        
        {% if page.description %}
        <div class="header is-align-center mb-8 pt-0">
            <div class="rich-text w-richtext max-width_large">
                {{ page.description|richtext }}
            </div>
        </div>
        {% endif %}

        <!-- Минималистичные полосы -->
        <div class="space-y-2 mt-16">
            {% for child in page.get_children.live %}
            <a href="{% pageurl child %}" class="group block relative overflow-hidden rounded-xl bg-white border border-gray-200 hover:border-blue-300 transition-all duration-500 hover:bg-blue-50/30">
                <!-- Анимированный фон -->
                <div class="absolute inset-0 bg-gradient-to-r from-blue-500/0 via-blue-500/5 to-blue-500/0 transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div>
                
                <div class="relative z-10 p-6 flex items-center justify-between">
                    <div class="flex-1">
                        <div class="flex items-center gap-6 mb-2">
                            <h3 class="heading_h4 text-gray-900 group-hover:text-blue-600 transition-colors">
                                {{ child.title }}
                            </h3>
                            {% if child.specific.get_children.live.count %}
                            <span class="px-3 py-1 bg-blue-500/10 text-blue-600 rounded-full text-sm font-medium">
                                {{ child.specific.get_children.live.count }}
                            </span>
                            {% endif %}
                        </div>
                        
                        {% if child.specific.description %}
                        <div class="rich-text w-richtext text-gray-600 text-sm">
                            {{ child.specific.description|richtext|truncatewords:20 }}
                        </div>
                        {% endif %}
                    </div>
                    
                    <svg class="w-5 h-5 text-gray-400 group-hover:text-blue-500 transform group-hover:translate-x-1 transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}